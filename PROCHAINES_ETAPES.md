# ‚úÖ Prochaines √©tapes - Vos actions requises

Ce fichier liste exactement ce que **VOUS** devez faire maintenant pour cr√©er vos mod√®les.

---

## üìã Ce qui a √©t√© automatis√© pour vous ‚úÖ

### Scripts cr√©√©s (pr√™ts √† l'emploi)
- ‚úÖ `collect_boxes_images.py` - Collecte d'images des cases
- ‚úÖ `collect_valid_board_images.py` - Collecte d'images du plateau
- ‚úÖ `train_models.py` - Entra√Ænement automatique
- ‚úÖ `convert_to_tflite.py` - Conversion automatique
- ‚úÖ `check_training_data.py` - V√©rification automatique

### Documentation cr√©√©e (√† lire)
- ‚úÖ `COMMENCER_ICI.md` - Guide de d√©marrage
- ‚úÖ `DEMARRAGE_RAPIDE_MODELES.md` - Commandes rapides
- ‚úÖ `GUIDE_CREATION_MODELES.md` - Guide complet
- ‚úÖ `SCRIPTS_CREES.md` - Documentation technique

### Infrastructure
- ‚úÖ Structure de dossiers cr√©√©e
- ‚úÖ Script d'installation pr√™t
- ‚úÖ Fichier de d√©pendances pr√™t

---

## üéØ VOS ACTIONS REQUISES (√©tape par √©tape)

### ‚úÖ √âTAPE 1 : Lire la documentation (10 min)

**Action** : Lisez **un** de ces fichiers (au choix) :

```bash
# Option 1 : Guide rapide (recommand√© pour commencer)
cat DEMARRAGE_RAPIDE_MODELES.md

# Option 2 : Guide complet (si vous voulez tout comprendre)
cat GUIDE_CREATION_MODELES.md

# Option 3 : D√©marrage ultra-rapide
cat COMMENCER_ICI.md
```

**R√©sultat attendu** : Vous comprenez le processus global

---

### ‚öôÔ∏è √âTAPE 2 : Installer les d√©pendances (30 min)

**Actions** :

```bash
cd /home/mia/Bureau/reachy-2019-tictactoe
source venv/bin/activate
./install_training.sh
```

**Ce qui se passe** :
- Installation de TensorFlow (peut prendre 15-20 min)
- Installation de Jupyter et matplotlib
- Cr√©ation de la structure de dossiers
- V√©rification de l'installation

**R√©sultat attendu** : Message "üéâ Installation termin√©e avec succ√®s!"

**Si erreur** : V√©rifiez votre connexion internet et l'espace disque

---

### üìê √âTAPE 3 : Calibrer le plateau (15 min)

**Actions** :

```bash
python scripts/calibrate_board.py --host localhost
```

**Ce que vous devez faire** :
1. Le script lance Reachy et capture le plateau
2. Une fen√™tre s'ouvre avec l'image
3. **Tracez 9 rectangles** (un par case) dans l'ordre :
   - Ligne 1 : cases 0, 1, 2
   - Ligne 2 : cases 3, 4, 5  
   - Ligne 3 : cases 6, 7, 8
4. Appuyez sur **'s'** pour sauvegarder
5. **Copiez les coordonn√©es** de `/tmp/board_calibration.py`
6. **Collez-les** dans `reachy_tictactoe/vision.py` (ligne ~250)

**R√©sultat attendu** : Fichier `/tmp/board_calibration.py` cr√©√© avec les coordonn√©es

**Important** : Cette √©tape est **CRITIQUE** - sans calibration pr√©cise, la d√©tection ne fonctionnera pas !

---

### üì∏ √âTAPE 4 : Collecter les images (2-3 heures)

**C'est l'√©tape la plus longue** - Vous pouvez la faire en plusieurs sessions !

#### Session 1 : Cases VIDES (30 min)

```bash
python scripts/collect_boxes_images.py --host localhost --class empty --target 50
```

**Ce que vous devez faire** :
1. **Enlevez TOUTES les pi√®ces** du plateau
2. Appuyez sur Entr√©e pour capturer
3. D√©placez l√©g√®rement le plateau
4. Appuyez sur Entr√©e √† nouveau
5. R√©p√©tez 50 fois (variez √©clairage, position)

**Objectif** : 450 images (50 captures √ó 9 cases)

---

#### Session 2 : Cases avec CUBES (45 min)

```bash
python scripts/collect_boxes_images.py --host localhost --class cube --target 50
```

**Ce que vous devez faire** :
1. **Placez des cubes** sur le plateau
2. Indiquez les cases avec cubes (ex: `0,4,8`)
3. Appuyez sur Entr√©e pour capturer
4. **Changez la configuration** des cubes
5. R√©p√©tez 50 fois

**Exemples de configurations** :
- `4` : cube au centre
- `0,2,6,8` : coins
- `0,1,2` : ligne du haut
- `1,3,5,7` : bords
- `0,4,8` : diagonale

**Objectif** : ~450 images

---

#### Session 3 : Cases avec CYLINDRES (45 min)

```bash
python scripts/collect_boxes_images.py --host localhost --class cylinder --target 50
```

**M√™me principe que pour les cubes.**

**Objectif** : ~450 images

---

#### Session 4 : Plateaux VALIDES (30 min)

```bash
python scripts/collect_valid_board_images.py --host localhost --class valid --target 150
```

**Ce que vous devez faire** :
1. **Positionnez le plateau correctement** (bien centr√©, visible)
2. Appuyez sur Entr√©e
3. Bougez **l√©g√®rement** le plateau (¬±1cm, ¬±2 degr√©s)
4. Appuyez sur Entr√©e
5. R√©p√©tez 150 fois (variez √©clairage)

**Objectif** : 150 images

---

#### Session 5 : Plateaux INVALIDES (30 min)

```bash
python scripts/collect_valid_board_images.py --host localhost --class invalid --target 150
```

**Ce que vous devez faire - cr√©ez des situations probl√©matiques** :
- Plateau d√©centr√© ou tourn√© √† 45¬∞
- Plateau partiellement cach√©
- Main devant la cam√©ra
- Plateau absent
- Trop sombre ou trop clair
- Trop pr√®s ou trop loin

**Objectif** : 150 images

---

### ‚úîÔ∏è √âTAPE 4.5 : V√©rifier les donn√©es (5 min)

```bash
python scripts/check_training_data.py
```

**R√©sultat attendu** : "‚úÖ Pr√™t pour l'entra√Ænement" pour les 2 mod√®les

**Si insuffisant** : Collectez plus d'images avec les scripts ci-dessus

---

### üßπ √âTAPE 5 : Nettoyer les images (30 min)

**Actions** :

```bash
# Parcourir les images et supprimer les mauvaises
eog training_data/boxes/empty/*.jpg
eog training_data/boxes/cube/*.jpg
eog training_data/boxes/cylinder/*.jpg
eog training_data/valid_board/valid/*.jpg
eog training_data/valid_board/invalid/*.jpg
```

**Supprimez** :
- Images floues
- Images avec votre main visible
- Images trop sombres/claires
- Doublons

**Astuce** : Utilisez les fl√®ches pour naviguer, Suppr pour effacer

---

### üéì √âTAPE 6 : Entra√Æner les mod√®les (1-2h automatique)

**Actions** :

```bash
python scripts/train_models.py --model all --epochs 15
```

**Ce qui se passe** :
1. Chargement et v√©rification des donn√©es
2. Cr√©ation des mod√®les (MobileNetV2 + Transfer Learning)
3. Entra√Ænement (30-60 min par mod√®le)
4. Sauvegarde des mod√®les H5
5. G√©n√©ration des courbes d'entra√Ænement

**Vous n'avez rien √† faire** - allez boire un caf√© ‚òï

**R√©sultat attendu** :
- `models/ttt-boxes.h5` cr√©√© (pr√©cision ‚â• 90%)
- `models/ttt-valid-board.h5` cr√©√© (pr√©cision ‚â• 95%)
- Courbes dans `models/*.png`

**Si pr√©cision < 80%** : Collectez plus d'images vari√©es

---

### üîÑ √âTAPE 7 : Convertir en TFLite (5 min)

**Actions** :

```bash
python scripts/convert_to_tflite.py --model all
```

**Ce qui se passe** :
1. Backup des anciens mod√®les
2. Conversion H5 ‚Üí TFLite
3. Optimisations automatiques
4. Test de chargement
5. Copie des labels

**R√©sultat attendu** :
- `reachy_tictactoe/models/ttt-boxes.tflite` cr√©√©
- `reachy_tictactoe/models/ttt-boxes.txt` cr√©√©
- `reachy_tictactoe/models/ttt-valid-board.tflite` cr√©√©
- `reachy_tictactoe/models/ttt-valid-board.txt` cr√©√©

---

### üß™ √âTAPE 8 : Tester en conditions r√©elles (30 min)

**Actions** :

```bash
# Terminal 1 : Lancer le jeu
python -m reachy_tictactoe.game_launcher --log-file /tmp/tictactoe_test

# Terminal 2 : Voir les logs
tail -f /tmp/tictactoe_test.log
```

**Ce que vous devez faire** :
1. Jouez 3-5 parties compl√®tes
2. Observez les logs
3. V√©rifiez que Reachy d√©tecte correctement :
   - Le plateau (valide/invalide)
   - Les cases vides
   - Vos cubes
   - Ses cylindres

**R√©sultat attendu** : Le jeu fonctionne de bout en bout sans erreurs

**Si probl√®mes de d√©tection** :
- V√©rifiez la calibration
- Am√©liorez l'√©clairage
- Collectez plus d'images dans ces conditions
- R√©-entra√Ænez

---

## üìä R√©capitulatif du temps

| √âtape | Votre temps | Type |
|-------|-------------|------|
| 1. Lire docs | 10 min | Lecture |
| 2. Installer | 30 min | Automatique (attente) |
| 3. Calibrer | 15 min | Interaction (tracer rectangles) |
| 4. Collecter | 2-3h | **Manuel** (placer pi√®ces) |
| 5. Nettoyer | 30 min | Manuel (supprimer images) |
| 6. Entra√Æner | 1-2h | Automatique (attente) |
| 7. Convertir | 5 min | Automatique |
| 8. Tester | 30 min | Interaction (jouer) |
| **TOTAL** | **5-8h** | ~60% automatique, 40% manuel |

---

## ‚úÖ Checklist de progression

Cochez au fur et √† mesure :

- [ ] üìñ Documentation lue
- [ ] ‚öôÔ∏è D√©pendances install√©es (`./install_training.sh`)
- [ ] üìê Plateau calibr√© (coordonn√©es dans `vision.py`)
- [ ] üì∏ ~450 images empty collect√©es
- [ ] üì∏ ~450 images cube collect√©es  
- [ ] üì∏ ~450 images cylinder collect√©es
- [ ] üì∏ ~150 images valid collect√©es
- [ ] üì∏ ~150 images invalid collect√©es
- [ ] üßπ Images nettoy√©es
- [ ] ‚úîÔ∏è V√©rification OK (`check_training_data.py`)
- [ ] üéì Mod√®les entra√Æn√©s (pr√©cision ‚â• 90%/95%)
- [ ] üîÑ Mod√®les convertis en TFLite
- [ ] üß™ Tests r√©ussis (3-5 parties jou√©es)

---

## üéØ Crit√®res de succ√®s final

Vos mod√®les sont pr√™ts si :

- ‚úÖ Pr√©cision boxes ‚â• 90%
- ‚úÖ Pr√©cision valid-board ‚â• 95%
- ‚úÖ Jeu se lance sans erreurs
- ‚úÖ Reachy d√©tecte correctement pendant le jeu
- ‚úÖ Pas de faux positifs fr√©quents
- ‚úÖ Parties fluides et r√©actives

---

## üöÄ Commencer maintenant ?

**Prochaine commande √† ex√©cuter** :

```bash
cd /home/mia/Bureau/reachy-2019-tictactoe
source venv/bin/activate
./install_training.sh
```

Puis suivez les √©tapes ci-dessus une par une !

---

**üéâ Bon courage ! Vous √™tes bien guid√©, √ßa va bien se passer ! üöÄ**

*N'oubliez pas : vous pouvez r√©partir sur plusieurs jours, pas besoin de tout faire d'un coup !*

